<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Your Appointments</title>
    <!-- Style -->
    <link rel="stylesheet" href="/css/style.css" />
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Flowbite DateTime picker -->
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.js"></script>
    <!-- JQuery -->
    <script
      src="https://code.jquery.com/jquery-3.7.1.js"
      integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <nav
      class="z-40 fixed top-0 left-0 px-12 py-4 w-full bg-green-500 flex justify-between items-center transition-all duration-500 ease-in-out"
    >
      <a href="/" class="logo cursor-pointer">
        <div id="logo" class="flex text-3xl text-white font-bold">
          <p class="">ZPet</p>
        </div>
      </a>
      <div class="flex space-x-3 items-center">
        <button
          id="service-added-button"
          class="relative w-10 h-10 rounded-md hover:bg-white/25 flex items-center justify-center"
        >
          <p
            id="service-quantity"
            class="w-4 h-4 bg-white rounded-full text-black text-xs absolute -top-1 -right-1"
          >
            1
          </p>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="currentColor"
            class="size-6 text-white"
          >
            <path
              d="M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"
            />
            <path
              fill-rule="evenodd"
              d="M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z"
              clip-rule="evenodd"
            />
          </svg>
        </button>
        <div class="relative" id="login-status">
          <div id="logged-out" class="hidden">
            <a
              href="/login"
              id="login-button"
              class="flex items-center space-x-3 cursor-pointer text-white hover:bg-white/15 rounded-md py-3 px-4 transition-all duration-200 ease"
            >
              <p id="login-button-text" class="text-lg">Đăng nhập</p>
            </a>
          </div>
          <div id="logged-in" class="hidden">
            <div
              id="user-button"
              class="flex items-center space-x-3 cursor-pointer text-white hover:bg-white/15 rounded-md py-3 px-4 transition-all duration-200 ease"
            >
              <p id="user-button-text" class="text-lg">Hi, Vinh</p>
              <img src="/images/chevron.svg" class="w-5 h-5" alt="" />
            </div>
            <div
              id="user-option"
              class="flex flex-col absolute -right-96 mt-6 w-60 p-4 bg-white text-gray-900 shadow-lg rounded-lg space-y-4 transition-all duration-500 ease-in-out"
            >
              <p class="text-green-700 text-sm font-bold">Quản lý</p>
              <a href="/pets" class="py-2 px-3 rounded-md hover:bg-black/5"
                >Thú cưng</a
              >
              <a
                href="/appointments"
                class="py-2 px-3 rounded-md hover:bg-black/5"
                >Lịch hẹn</a
              >
              <a href="/invoices" class="py-2 px-3 rounded-md hover:bg-black/5"
                >Hóa đơn</a
              >
              <a href="/vouchers" class="py-2 px-3 rounded-md hover:bg-black/5"
                >Voucher</a
              >
              <hr />
              <p class="text-green-700 text-sm font-bold">Tài khoản</p>
              <a
                href="/change-password"
                class="py-2 px-3 rounded-md hover:bg-black/5"
                >Thay đổi mật khẩu</a
              >
              <a
                href="/logout"
                class="text-red-500 py-2 px-3 rounded-md hover:bg-black/5"
                >Đăng xuất</a
              >
            </div>
          </div>
        </div>
      </div>
    </nav>

    <div class="w-full mt-28">
      <p class="text-center font-bold text-lg mt-6">Lịch hẹn hiện tại</p>
      <div
        id="appointment-current-list"
        class="w-full md:w-[700px] lg:w-[1200px] mx-auto mt-4"
      >
        <p class="text-center">
          Không có lịch hẹn nào. Hãy
          <span class="text-green-600 underline cursor-pointer"
            ><a href="/">đặt hẹn</a></span
          >
          ngay nhé!
        </p>
      </div>
      <p class="text-center font-bold text-lg mt-6">Lịch hẹn đã hoàn thành</p>
      <div
        class="search space-y-3 w-full md:w-[700px] lg:w-[1200px] mx-auto mt-4"
      >
        <!-- <input
          type="text"
          name="serach"
          id="search"
          class="bg-white w-full p-2 rounded-lg outline-none"
          placeholder="Tìm kiếm hóa đơn"
        /> -->
        <div class="w-full flex justify-between">
          <div
            id="date-range-picker"
            date-rangepicker
            class="flex items-center"
          >
            <div class="relative">
              <div
                class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"
              >
                <svg
                  class="w-4 h-4 text-gray-500 dark:text-gray-400"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"
                  />
                </svg>
              </div>
              <input
                id="dateFrom"
                name="start"
                type="text"
                class="bg-white text-black text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full ps-10 p-2.5"
                placeholder="Select date start"
              />
            </div>
            <span class="mx-4 text-gray-500">đến</span>
            <div class="relative">
              <div
                class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"
              >
                <svg
                  class="w-4 h-4 text-gray-500 dark:text-gray-400"
                  aria-hidden="true"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"
                  />
                </svg>
              </div>
              <input
                id="dateTo"
                name="end"
                type="text"
                class="bg-white text-black text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full ps-10 p-2.5"
                placeholder="Select date end"
              />
            </div>
          </div>
          <select name="status" id="status" class="p-1 rounded-md">
            <option value="2_3" selected>Tất cả</option>
            <option value="2">Đã hoàn thành</option>
            <option value="3">Đã hủy</option>
          </select>
        </div>
      </div>
      <div
        id="appointment-history-list"
        class="w-full md:w-[700px] lg:w-[1200px] mx-auto mt-4 space-y-3"
      >
        <!-- Render JQuery -->
      </div>
    </div>

    <div
      id="appointment-detail"
      class="z-50 fixed top-0 left-0 modal w-full h-full hidden"
    >
      <div class="w-full h-full relative">
        <div class="modal-overlay w-full h-full bg-black/45"></div>
        <div
          class="absolute top-[calc(50%-300px)] left-[calc(50%-400px)] w-full h-full md:w-[800px] md:h-fit bg-white rounded-lg p-8"
        >
          <h1 class="text-center font-bold text-3xl relative">
            Chi tiết lịch hẹn
            <img
              src="/images/close.svg"
              class="modal-close absolute top-0 right-0 h-8 w-8 hover:scale-105 rounded-full p-1 hover:bg-gray-200"
              alt=""
              id="modal-close"
            />
          </h1>
          <div class="w-full text-center">
            <p id="detail-status"></p>
          </div>
          <div class="mt-3 flex flex-col space-y-3">
            <p class="font-semibold text-lg">Thông tin:</p>
            <div class="flex items-center space-x-3 w-full">
              <p class="flex-shrink-0 w-32 text-gray-600">Khách hàng:</p>
              <p id="detail-customer-name" class="flex-grow">
                24/11/2022 - 7:00 AM
              </p>
            </div>
            <div class="flex items-center space-x-3 w-full">
              <p class="flex-shrink-0 w-32 text-gray-600">Thời gian:</p>
              <p id="detail-time" class="flex-grow">24/11/2022 - 7:00 AM</p>
            </div>
            <div class="flex items-center space-x-3 w-full">
              <p class="flex-shrink-0 w-32 text-gray-600">Ghi chú:</p>
              <p id="detail-note" class="flex-grow">
                Lorem ipsum dolor, sit amet consectetur adipisicing elit.
                Tempore inventore ea sed corporis, velit, porro ipsa libero
                veritatis recusandae at
              </p>
            </div>
            <div class="flex items-center space-x-3 w-full">
              <p class="flex-shrink-0 w-32 text-gray-600">Lịch sử:</p>
              <div id="detail-history" class="flex flex-col flex-grow"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL ADD -->
    <div
      id="added-service"
      class="z-50 fixed top-0 left-0 modal w-full h-full hidden"
    >
      <div class="w-full h-full relative">
        <div class="modal-overlay w-full h-full bg-black/45"></div>
        <div
          class="absolute top-[calc(50%-300px)] left-[calc(50%-400px)] w-full h-full md:w-[800px] md:h-fit bg-white rounded-lg p-8"
        >
          <h1 class="text-center font-bold text-3xl relative">
            Thêm lịch hẹn
            <img
              src="/images/close.svg"
              class="modal-close absolute top-0 right-0 h-8 w-8 hover:scale-105 rounded-full p-1 hover:bg-gray-200"
              alt=""
              id="modal-close"
            />
          </h1>
          <div class="mt-3 flex flex-col space-y-3">
            <p class="font-semibold text-lg">Danh sách dịch vụ đặt hẹn:</p>
            <ol id="added-service-modal" class="space-y-2">
              <li class="py-3 px-5 rounded-md bg-slate-50 flex justify-between">
                <p>Dhay akjhslkjs sadasd</p>
                <button class="hover:bg-red-300/25 p-1 rounded-full">
                  <img src="/images/close.svg" class="h-4 w-4" alt="" />
                </button>
              </li>
              <li class="py-3 px-5 rounded-md bg-slate-50 flex justify-between">
                <p>Dhay akjhslkjs sadasd</p>
                <button class="hover:bg-red-300/25 p-1 rounded-full">
                  <img src="/images/close.svg" class="h-4 w-4" alt="" />
                </button>
              </li>
              <li class="py-3 px-5 rounded-md bg-slate-50 flex justify-between">
                <p>Dhay akjhslkjs sadasd</p>
                <button class="hover:bg-red-300/25 p-1 rounded-full">
                  <img src="/images/close.svg" class="h-4 w-4" alt="" />
                </button>
              </li>
            </ol>
          </div>
          <div class="mt-3">
            <p class="font-semibold text-lg">Ghi chú:</p>
            <textarea
              id="note-modal"
              class="w-full h-24 p-3 rounded-md border border-gray-300 focus:outline-none focus:border-green-500"
              placeholder="Ghi chú"
            ></textarea>
          </div>
          <div class="mt-3">
            <p class="font-semibold text-lg">Thời gian đặt hẹn:</p>
            <div class="flex space-x-4 px-12">
              <div class="relative max-w-sm flex-1 w-full">
                <div
                  class="absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none"
                >
                  <svg
                    class="w-4 h-4 text-gray-500 dark:text-gray-400"
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"
                    />
                  </svg>
                </div>
                <input
                  datepicker
                  id="default-datepicker"
                  type="text"
                  class="block w-full ps-10 p-2.5 bg-slate-50 rounded-md"
                  placeholder="Select date"
                />
              </div>
              <div class="relative flex-1 w-full">
                <input
                  type="time"
                  id="time"
                  class="block w-full ps-10 p-2.5 bg-slate-50 rounded-md"
                  value="00:00"
                  required
                />
              </div>
            </div>
          </div>
          <button
            id="btn-create-appointment"
            class="w-full bg-green-500 rounded-md text-white mt-3 p-3 hover:opacity-75"
          >
            OK
          </button>
        </div>
      </div>
    </div>

    <!-- MODAL CANCEL -->
    <div
      id="cancel-appointment"
      class="z-50 fixed top-0 left-0 modal w-full h-full hidden"
    >
      <div class="w-full h-full relative">
        <div class="modal-overlay w-full h-full bg-black/45"></div>
        <div
          class="absolute top-[calc(50%-300px)] left-[calc(50%-400px)] w-full h-full md:w-[800px] md:h-fit bg-white rounded-lg p-8"
        >
          <h1 class="text-center font-bold text-3xl relative">
            <p class="text-red-500">Hủy lịch hẹn</p>
            <img
              src="/images/close.svg"
              class="modal-close absolute top-0 right-0 h-8 w-8 hover:scale-105 rounded-full p-1 hover:bg-gray-200"
              alt=""
              id="modal-close"
            />
          </h1>
          <div class="mt-3 flex flex-col space-y-3">
            <p class="font-semibold text-lg">
              Hãy cho chúng tôi biết lý do để hiểu bạn hơn:
            </p>
            <form id="cancel-form" action="null" onsubmit="return false;">
              <ol id="cancel-appointment-modal" class="space-y-2">
                <li class="py-3 px-5 rounded-md bg-slate-50 flex space-x-3">
                  <input type="checkbox" name="cancel-reason" id="creason-1" value="Đổi ngày, giờ hẹn khác"/>
                  <label class=" cursor-pointer w-full h-full" for="creason-1"
                    >Đổi ngày, giờ hẹn khác</label
                  >
                </li>
                <li class="py-3 px-5 rounded-md bg-slate-50 flex space-x-3">
                  <input type="checkbox" name="cancel-reason" id="creason-2" value="Không còn nhu cầu nữa"/>
                  <label class=" cursor-pointer w-full h-full" for="creason-2"
                    >Không còn nhu cầu nữa</label
                  >
                </li>
                <li class="py-3 px-5 rounded-md bg-slate-50 flex space-x-3">
                  <input type="checkbox" name="cancel-reason" id="creason-3" value="Vấn đề di chuyển"/>
                  <label class=" cursor-pointer w-full h-full" for="creason-3"
                    >Vấn đề di chuyển</label
                  >
                </li>
                <li class="py-3 px-5 rounded-md bg-slate-50 flex space-x-3">
                  <input type="checkbox" name="cancel-reason" id="creason-4" value="Bận việc đột xuất"/>
                  <label class=" cursor-pointer w-full h-full" for="creason-4"
                    >Bận việc đột xuất</label
                  >
                </li>
                <li class="py-3 px-5 rounded-md bg-slate-50 flex space-x-3">
                  <input
                    type="checkbox"
                    name="cancel-reason"
                    id="creason-other"
                  />
                  <label class=" cursor-pointer w-full h-full"  for="creason-other">Lý do khác</label>
                </li>
                <li class="py-3 px-5 rounded-md bg-slate-50 flex">
                  <textarea
                    class="h-20 w-full p-1 rounded-md border-[1px] border-green-500 disabled:border-gray-300 hidden"
                    maxlength="100"
                    placeholder="Nhập lý do của bạn"
                    name="cancel-reason"
                    id="creason-other_content"
                  ></textarea>
                </li>
              </ol>
              <button
                id="btn-cancel-appointment"
                class="w-full bg-red-500 rounded-md text-white mt-3 p-3 hover:opacity-75"
              >
                Hủy
              </button>
            </form>
          </div>

        </div>
      </div>
    </div>
  </body>
  <script src="/js/apiUrl.js"></script>
  <script src="/js/utils.js"></script>
  <script src="/js/client/CheckLogin.js"></script>
  <script src="/js/client/UserNavButton.js"></script>
  <script src="/js/client/ShowAddedService.js"></script>
  <script src="/js/client/AddAppointment.js"></script>
  <script src="/js/client/appointment/AppointmentScript.js"></script>
  <script src="/js/client/Modal.js"></script>
</html>
